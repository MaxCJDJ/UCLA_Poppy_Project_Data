---
title: "Data_Explore_V3"
format: html
---

```{r}
# ───────────────────────────────────────────────────────────────────────────
# 2. Load libraries
# ───────────────────────────────────────────────────────────────────────────
library(haven)     # read_sav()
library(dplyr)     # data wrangling
library(labelled)  # as_factor()
library(skimr)     # skim()
library(tidyr)     # pivot_longer()
library(naniar)    # vis_miss()
library(stringr)   # for str_replace_all()

# 🔒 This file is not included in public repo
# sav_path <- "...sav"
sav_path <- "REDACTED.sav"

stop("❌ Data not included in repo. Please provide your own SPSS file to continue.")
```

# 2. Define and check file path --------------------------------------------
```{r}
# 2. Check that the SPSS file exists before trying to read it
if (!file.exists(sav_path)) {
  # If the file isn’t found, stop execution and print an error
  stop("❌ File not found:\n  ", sav_path)
} else {
  # If the file exists, print a confirmation with its size in MB
  message("✅ Found file (", 
          round(file.info(sav_path)$size / 1024^2, 1),
          " MB)\n")
}
```

# 3. Read SPSS data into a tibble ------------------------------------------
```{r}
# 3. Read the SPSS (.sav) file into R as a tibble (data frame)
df_tcwp <- read_sav(sav_path)
```

# 4. Basic structure & names -----------------------------------------------
```{r}
# 4. Inspect the data’s overall structure and column names

# Print the number of rows and columns
message("\n-- Dimensions --------------------------------------------------")
message(" Rows: ", nrow(df_tcwp), 
        " | Columns: ", ncol(df_tcwp), "\n")

# Show a compact “glimpse” of the data (types and a preview of values)
message("-- Glimpse -----------------------------------------------------")
glimpse(df_tcwp)

# List all column names
message("\n-- Column names ------------------------------------------------")
print(colnames(df_tcwp))
```










